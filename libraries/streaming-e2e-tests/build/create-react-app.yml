# Create a React app that uses ReactWebChat and DLJS with the
# latest nightly version of botframework-streaming

steps:
  - script: npm install
    displayName: npm install in React App
    workingDirectory: $(ReactProjectDir)

  - script: rm -rf botframework-streaming
    displayName: remove botframework-streaming package for override
    workingDirectory: $(ReactProjectDir)/node_modules/botframework-directlinejs

  - script: npm run build
    displayName: Build React App
    workingDirectory: $(ReactProjectDir)

  - task: PublishPipelineArtifact@1
    displayName: 'Publish Artifact: ReactApp'
    inputs:
      targetPath: $(ReactProjectDir)/build
      artifactName: 'ReactApp'
